define("common/js/channel/common",["jquery","./../plugin/json2","./../plugin/jquery-cookie","./../plugin/template.3.0","./../util/form","./../util/kmf-tips","./../util/kmf-alert","jqueryui","../../tpl/kmf-alert.tpl","./../util/dialog-login","../../tpl/login.tpl","../mod/login","./../util/kmf-warn","./../mod/feedback","./../util/kmf-string"],function(a,b,c){var d=a("jquery");a("./../plugin/json2"),a("./../plugin/jquery-cookie"),window.template=a("./../plugin/template.3.0"),a("./../util/form"),a("./../util/kmf-tips"),a("./../util/kmf-alert");var e=a("./../util/dialog-login"),f=a("./../util/kmf-warn");a("./../mod/feedback"),a("./../util/kmf-string"),d(document).delegate(".js-kmf-tips",{mouseenter:function(){d(this).kmfTips("open")},mouseleave:function(){d(this).kmfTips("close")}}),d(".js-kmf-form li").formStyle(),d(document).delegate(".js-kmf-login","click",function(){return e().dialog("open"),!1}),c.exports={warn:f}}),define("common/js/plugin/json2",[],function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}),define("common/js/plugin/jquery-cookie",["jquery"],function(a){var b=a("jquery");b.cookie=function(a,c,d){if("undefined"==typeof c){var e=null;if(document.cookie&&""!=document.cookie)for(var f=document.cookie.split(";"),g=0;g<f.length;g++){var h=b.trim(f[g]);if(h.substring(0,a.length+1)==a+"="){e=decodeURIComponent(h.substring(a.length+1));break}}return e}d=d||{},null===c&&(c="",d.expires=-1);var i="";if(d.expires&&("number"==typeof d.expires||d.expires.toUTCString)){var j;"number"==typeof d.expires?(j=new Date,j.setTime(j.getTime()+24*d.expires*60*60*1e3)):j=d.expires,i="; expires="+j.toUTCString()}var k=d.path?"; path="+d.path:"",l=d.domain?"; domain="+d.domain:"",m=d.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(c),i,k,l,m].join("")}}),!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(y)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,y=/^$|,+/;e.openTag="{{",e.closeTag="}}";var z=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a){a=a.replace(/^\s/,"");var b=a.split(" "),c=b.shift(),e=b.join(" ");switch(c){case"if":a="if("+e+"){";break;case"else":b="if"===b.shift()?" if("+b.join(" ")+")":"",a="}else"+b+"{";break;case"/if":a="}";break;case"each":var f=b[0]||"$data",g=b[1]||"as",h=b[2]||"$value",i=b[3]||"$index",j=h+","+i;"as"!==g&&(f="[]"),a="$each("+f+",function("+j+"){";break;case"/each":a="});";break;case"echo":a="print("+e+");";break;case"print":case"include":a=c+"("+b.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(e)){var k=!0;0===a.indexOf("#")&&(a=a.substr(1),k=!1);for(var l=0,m=a.split("|"),n=m.length,o=m[l++];n>l;l++)o=z(o,m[l]);a=(k?"=":"=#")+o}else a=d.helpers[c]?"=#"+c+"("+b.join(",")+");":"="+a}return a},"function"==typeof define?define("common/js/plugin/template.3.0",[],function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}(),define("common/js/util/form",["jquery"],function(a){var b=a("jquery");b.fn.formStyle=function(a){var c={selected:"selected",disable:"disable",sel_disable:"select-disable",warn:"warn",radio:"radio",check:"check"},d=b.extend({},c,a);return this.each(function(){var a=b(this),c=a.find("input");1==c.prop("checked")&&1!=c.prop("disabled")&&a.addClass(d.selected),1!=c.prop("checked")&&1==c.prop("disabled")&&a.addClass(d.disable),1==c.prop("checked")&&1==c.prop("disabled")&&a.addClass(d.sel_disable),1!=c.prop("disabled")&&a.parent("ul").hasClass(d.check)&&a.click(function(){"true"!=c.prop("disabled")&&(b(this).hasClass(d.warn)&&b(this).removeClass(d.warn),c.prop("checked")?(b(this).removeClass(d.selected),c.prop("checked",!1)):(b(this).addClass(d.selected),c.prop("checked",!0)),"function"==typeof d.callBack&&d.callBack(b(this)))}),1!=c.prop("disabled")&&a.parent("ul").hasClass(d.radio)&&a.click(function(){"true"!=c.prop("disabled")&&(a.addClass(d.selected),a.siblings().removeClass(d.selected),a.siblings().each(function(){b(this).find("input").prop("checked",!1)}),a.find("input").prop("checked",!0),"function"==typeof d.callBack&&d.callBack(b(this)))})}),this}}),define("common/js/util/kmf-tips",["jquery"],function(a){var b=a("jquery"),c=function(a){var b=a('<div class="g-kmf-tips"><div class="tips-content"></div><div class="arrow arrow-up"></div></div>'),c=b.find(".tips-content"),d=b.find(".arrow"),e={down:"arrow-down",up:"arrow-up"};return b.hide(),function(f){var g,h,i,j,k=a.trim(this.data("msg")),l="g-kmf-tips",m=this.data("tipsclass"),n=this.data("dir"),o=this.offset().top,p=this.offset().left,q=this.width(),r=this.height(),s=a(window).scrollTop(),t=6;return"undefined"==typeof k||""==k?void b.hide():(k=k.replace(/\<(\/?script)/g,"&lt;$1"),k=k.replace(/(script)\>/g,"$1&gt;"),c.html(k),b.removeClass().addClass(l),m&&b.addClass(m),a("body").append(b),g=b.outerWidth(),h=b.outerHeight(),i=o-h-t,j=p+q/2-g/2,n?"down"==n?(i=o+r+t,d.addClass(e.down),d.removeClass(e.up)):(d.addClass(e.up),d.removeClass(e.down)):s>i-h?(i=o+r+t,d.addClass(e.down),d.removeClass(e.up)):(d.addClass(e.up),d.removeClass(e.down)),b.css({top:i,left:j}),void("close"==f?b.hide():b.show()))}}(b);b.fn.extend({kmfTips:c})}),define("common/js/util/kmf-alert",["jqueryui"],function(a){var b=a("jqueryui"),c=b("<div></div>"),d=function(d){var e,f,g,h=a("common/tpl/kmf-alert.tpl"),i=template.compile(h);f={type:"alert",title:"提示",width:450,height:"auto",message:"确定要做此操作吗？",confirm:{text:"确定",url:"javascript:void(0)",callBack:null,isStay:!1},cancel:{text:"取消",url:"javascript:void(0)",callBack:null,isStay:!1},dialogClass:"g-kmf-alert",alertClass:"",draggable:!1,closeBack:function(){}},g=b.extend({},f,d),"object"==typeof d.confirm&&(g.confirm=b.extend({},f.confirm,d.confirm)),"object"==typeof d.cancel&&(g.cancel=b.extend({},f.cancel,d.cancel)),"string"==typeof g.message&&(g.message=g.message.replace(/<(\/?script)>/,"&lt;$1&gt;")),e=i(g),c.html(e),""!=g.alertClass?c.addClass(g.alertClass):c.removeClass();var j=c.dialog({position:["center","center"],width:g.width,height:g.height,title:g.title,autoOpen:!1,closeText:"关闭",resizable:!1,draggable:g.draggable,dialogClass:g.dialogClass,modal:!0,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500},close:g.closeBack,create:function(){b(window).scroll(function(){j.dialog({position:["center","center"]})})}});return j.undelegate(),j.delegate(".btn-alert-confirm","click",function(){"function"==typeof g.confirm.callBack&&g.confirm.callBack(),g.confirm.isStay||j.dialog("close")}),j.delegate(".btn-alert-cancel","click",function(){"function"==typeof g.cancel.callBack&&g.cancel.callBack(),g.cancel.isStay||j.dialog("close")}),j};window.alert=function(a){var b;return("string"==typeof a||"number"==typeof a)&&(b=d({message:a})),"object"==typeof a&&(b=d(a)),b.dialog("open"),b},window.confirm=function(a){var c;return("string"==typeof a||"number"==typeof a)&&(c=d({type:"confirm",message:a})),"object"==typeof a&&(b.extend(a,{type:"confirm"}),c=d(a)),c.dialog("open"),c}}),define("common/tpl/kmf-alert.tpl",[],'<div class="alert-msg">{{#message}}</div>\n<p class="alert-buttons">\n	<a href="{{confirm.url}}"{{if confirm.target}} target="{{confirm.target}}"{{/if}} class="g-anim btn-alert-confirm">{{confirm.text}}</a>\n	{{if type=="confirm"}}\n	<a href="{{cancel.url}}" class="g-anim btn-alert-cancel">{{cancel.text}}</a>\n	{{/if}}\n</p>\n'),define("common/js/util/dialog-login",["jqueryui","common/js/mod/login","jquery"],function(a){var b=a("jqueryui"),c=a("common/tpl/login.tpl"),d=template.compile(c),e={platUrl:"/account/thirdlogin",platform:["qq","weixin","weibo","renren"],backUrl:encodeURIComponent(location.href)},f=d(e),g=a("common/js/mod/login"),h="#LoginPopupName",i="#LoginPopupPassword",j=".te-warn",k=b(f).dialog({position:["center","center"],width:764,title:"用户登录",autoOpen:!1,closeText:"关闭",resizable:!1,draggable:!1,dialogClass:"g-kmf-login",modal:!0,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500},create:function(){b(window).scroll(function(){k.dialog({position:["center","center"]})})},resizable:!1});return b(i+","+h).on("focus",function(){k.find(j).html("")}),function(a){return k.undelegate(".fo-inp","keyup"),k.delegate(".fo-inp","keyup",function(b){13==b.keyCode&&g.login(a)}),b(document).undelegate("#LoginSubmit","click"),b(document).delegate("#LoginSubmit","click",function(){g.login(a)}),k}}),define("common/tpl/login.tpl",[],'<div class="po-login g-clearfix">\n    <div class="left">\n        <div class="fo-form">\n            <div class="item">\n                <label class="title">用户名/手机号/Email邮箱地址：</label>\n                <input type="text"  class="fo-inp" id="LoginPopupName" required />\n            </div>\n            <div class="item">\n                <label class="title">登录密码：</label>\n                <input type="password" class="fo-inp" id="LoginPopupPassword" minlength="6" required />\n            </div>\n            <div class="item g-clearfix">\n                <ul class="check g-kmf-form js-kmf-form g-floatleft">\n                	<li class="normal"><span class="g-formbg g-checkbox"><input type="checkbox" name="remember" checked="checked" id="LoginPopupRemember" value="1" /></span>下次自动登录</li>\n                </ul>\n                <a href="http://passport.kaomanfen.com/account/seekpassword" class="login-lost g-floatright">忘记登录密码了？</a>\n            </div>\n            <button class="g-btn-normal" id="LoginSubmit">马上登录</button>\n            <p class="te-warn"></p>\n        </div>\n	</div>\n    <div class="right">\n        <p>还没有考满分账号？</p>\n        <a href="/account/register" class="g-btn-normal btn-register">快速注册考满分账号</a>\n        <p>使用其它账号直接登录</p>\n        <div class="login-connect ym-clearfix">\n        	{{each platform}}\n            <a href="{{platUrl}}?plat={{$value}}&backurl={{backUrl}}" class="{{$value}}"></a>\n            {{/each}}\n        </div> \n    </div>\n</div>'),define("common/js/mod/login",["jquery"],function(a,b){var c=a("jquery"),d="/account/ajaxlogin",e=!1;b.login=function(a){var b=c("#LoginSubmit"),f=b.siblings(".te-warn"),g=c("#LoginPopupName"),h=c("#LoginPopupPassword"),i="g-btn-disabled",j={nickname:c.trim(g.val()),password:c.trim(h.val()),remember:"undefined"==c.type(c("#LoginPopupRemember:checked").val())?0:1};if(""!=j.nickname&&""!=j.password){if(e)return;e=!0,b.addClass(i).text("登录中..."),c.post(d,j,function(c){1==c.status?(f.html(""),"function"==typeof a?a():window.location.reload()):(f.html("用户名或者密码错误！"),b.removeClass(i).text("马上登录")),e=!1},"json")}else f.html("用户名和密码都不得为空！")}}),define("common/js/util/kmf-warn",[],function(a,b,c){var d={init:function(a){var b={url:"/app/pcwarning",top:0,timeout:15e3},c=this;$.extend(b,a),""!=b.url&&$.post(b.url,function(a){""!=$.trim(a)&&c.creatLayer(a,b)})},creatLayer:function(a,b){var c,d,e=this;e.$layer=$('<div class="g-kmf-warn"></div>'),e.$layer.hide().html(a).appendTo("body"),c=e.$layer.find(".warn-close"),d=e.getHeight(),e.$layer.css({top:-d}),e.play.call(e,b.top,b.timeout),c.on("click",function(){e.close.call(e)})},timmer:null,play:function(a,b){var c=this;c.$layer.show().animate({top:a},500,function(){c.timmer&&(clearTimeout(c.timmer),c.timmer=null),c.timmer=setTimeout(function(){c.close.call(c)},b)})},getHeight:function(){return this.$layer.outerHeight()},close:function(){return this.$layer.stop().slideUp(300),this.timmer&&(clearTimeout(this.timmer),this.timmer=null),this.callback.call(this),this},callback:function(){var a,b=this.$layer.find("input[name=cookie_name]").val(),c=this.$layer.find("input[name=cookie_value]").val(),d=this.$layer.find("input[name=cookie_time]").val(),e=this.$layer.find("input[name=cookie_type]").val(),f=$.cookie(b)?JSON.parse($.cookie(b)):[];"json"==e&&(f.push(c),c=JSON.stringify(f)),a=new Date(parseInt(d)),$.cookie(b,c,{expires:a,path:"/"})}};c.exports=d}),define("common/js/mod/feedback",[],function(){!function(){function a(a,b){function c(){e||(clearInterval(d),b&&b(!1),$(window).off("scroll",c)),e=!1}var d=null,e=!0;$(window).on("scroll",c),d=setInterval(function(){var f=document.documentElement.scrollTop||document.body.scrollTop,g=(a-f)/4;g=g>0?Math.ceil(g):Math.floor(g),f+=g,e=!0,document.documentElement.scrollTop=f,document.body.scrollTop=f,f==a&&(clearInterval(d),b&&b(!0),$(window).off("scroll",c))},30)}var b=$("#feedback").find(".gotop");b.click(function(){a(0)})}()}),define("common/js/util/kmf-string",[],function(){function a(){return!!this.match(/[^\x00-\x80]/g)}function b(){var a=this.match(/[^\x00-\x80]/g);return this.length+(a?a.length:0)}function c(a,b){var c,d=this.byteLength(),e=(this.length,0),f=0,g="",b=b||"...";if(!(d>a))return this.toString();for(;a>f;)c=this.charAt(e),c.isZh()?f+=2:f++,a+1>f&&(g+=c),e++;return g+=b}String.prototype.isZh=a,String.prototype.byteLength=b,String.prototype.cutString=c});